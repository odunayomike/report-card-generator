import{I as _e,r as l,A as m,j as e,L as ke}from"./index.UZcXu8dh.js";const Se=()=>{const{classes:q}=_e(),[N,ae]=l.useState([]),[u,ne]=l.useState([]),[L,U]=l.useState(["CA","Exam"]),[le,ie]=l.useState([]),[oe,O]=l.useState(!0),[H,x]=l.useState(""),[ce,y]=l.useState(!1),[o,M]=l.useState(1),[f,A]=l.useState(null),[t,i]=l.useState({exam_title:"",subject:"",class_name:"",session:"",term:"",assessment_type:"ca",duration_minutes:30,total_score:10,instructions:"Answer all questions to the best of your ability.",shuffle_questions:!0,shuffle_options:!0,show_results:!1,start_datetime:"",end_datetime:"",questions:[]}),[w,I]=l.useState([]),[_,E]=l.useState([]),[h,j]=l.useState([]),[V,F]=l.useState(!1),[$,P]=l.useState(""),[J,b]=l.useState(""),[c,T]=l.useState({subject:"",difficulty:"",topic:""}),[p,k]=l.useState(1),[g]=l.useState(6),[B,de]=l.useState({ca:30,exam:70}),[D,G]=l.useState(!1),[Y,z]=l.useState(null),[K,Q]=l.useState(null);l.useEffect(()=>{q&&ae(q)},[q]),l.useEffect(()=>{C(),me()},[]);const me=async()=>{try{const r=await(await fetch(`${m}/auth/check-session`,{credentials:"include"})).json();if(r.authenticated&&r.school){if(r.school.assessment_types&&U(r.school.assessment_types),r.school.available_subjects){const n=r.school.available_subjects.map(a=>a.toUpperCase());ie(n)}r.school.ca_max_marks!==void 0&&r.school.exam_max_marks!==void 0&&de({ca:r.school.ca_max_marks,exam:r.school.exam_max_marks})}}catch(s){console.error("Failed to load school settings:",s)}},W=()=>{const s=t.assessment_type.toLowerCase();return s==="ca"?B.ca:s==="exam"?B.exam:B.ca},X=()=>t.questions.length===0?0:(t.total_score/t.questions.length).toFixed(2),Z=async()=>{if(b(""),!$.trim())return;const s=$.trim();if(L.some(r=>r.toLowerCase()===s.toLowerCase())){b("This assessment type already exists");return}try{const r=[...L,s],a=await(await fetch(`${m}/school/update-settings`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({assessment_types:r})})).json();a.success?(U(r),i({...t,assessment_type:s.toLowerCase().replace(/\s+/g,"_")}),P(""),F(!1),b("")):b("Failed to add assessment type: "+a.message)}catch(r){console.error("Error adding assessment type:",r),b("Failed to add assessment type. Please try again.")}},C=async()=>{O(!0);try{const r=await(await fetch(`${m}/cbt/exams`,{credentials:"include"})).json();r.success?ne(r.exams):x(r.message||"Failed to load exams")}catch(s){x("Failed to load exams"),console.error("Load exams error:",s)}finally{O(!1)}},ee=async s=>{try{const n=await(await fetch(`${m}/cbt/questions?subject=${encodeURIComponent(s)}`,{credentials:"include"})).json();n.success?I(n.questions):console.error("Failed to load questions:",n.message)}catch(r){console.error("Load questions error:",r)}},se=async(s,r,n)=>{try{const d=await(await fetch(`${m}/cbt/get-students?class_name=${encodeURIComponent(s)}&session=${encodeURIComponent(r)}&term=${encodeURIComponent(n)}`,{credentials:"include"})).json();d.success?E(d.students):(console.error("Failed to load students:",d.message),E([]))}catch(a){console.error("Load students error:",a),E([])}},te=async s=>{s===2&&t.subject&&await ee(t.subject),s===3&&t.class_name&&t.session&&t.term&&await se(t.class_name,t.session,t.term),M(s)},ue=async()=>{x(""),G(!0);try{if(f){const r=await(await fetch(`${m}/cbt/exams`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:f,action:"update",exam_title:t.exam_title,instructions:t.instructions,duration_minutes:t.duration_minutes,total_score:t.total_score,shuffle_questions:t.shuffle_questions?1:0,shuffle_options:t.shuffle_options?1:0,show_results_immediately:t.show_results?0:1,start_datetime:t.start_datetime,end_datetime:t.end_datetime})})).json();r.success?(t.questions.length>0&&await fetch(`${m}/cbt/exams`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:f,action:"add_questions",questions:t.questions})}),h.length>0&&await fetch(`${m}/cbt/exams`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:f,action:"assign_students",student_ids:h})}),y(!1),A(null),S(),C()):x(r.message||"Failed to update exam")}else{const r=await(await fetch(`${m}/cbt/exams`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...t,shuffle_questions:t.shuffle_questions?1:0,shuffle_options:t.shuffle_options?1:0,show_results:t.show_results?0:1})})).json();if(r.success){const n=r.exam_id;if(h.length>0){const d=await(await fetch(`${m}/cbt/exams`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:n,action:"assign_students",student_ids:h})})).json();d.success||(console.error("Failed to assign students:",d.message),x("Exam created but failed to assign students: "+d.message))}else console.warn("No students selected for assignment");y(!1),S(),C()}else x(r.message||"Failed to create exam")}}catch(s){x(f?"Failed to update exam":"Failed to create exam"),console.error("Create/Update exam error:",s)}finally{G(!1)}},xe=s=>{z(s)},he=async()=>{const s=Y;z(null);try{const n=await(await fetch(`${m}/cbt/exams`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:s,action:"publish"})})).json();n.success?C():x(n.message||"Failed to publish exam")}catch(r){x("Failed to publish exam"),console.error("Publish exam error:",r)}},pe=async s=>{try{const n=await(await fetch(`${m}/cbt/exams?id=${s}`,{credentials:"include"})).json();if(n.success){const a=n.exam,re=await(await fetch(`${m}/cbt/questions?exam_id=${s}`,{credentials:"include"})).json(),Ne=re.success?re.questions.map(R=>R.id):[],we=a.assigned_students_list?a.assigned_students_list.map(R=>R.student_id):[];i({exam_title:a.exam_title||"",subject:a.subject||"",class_name:a.class||"",session:a.session||"",term:a.term||"",assessment_type:a.assessment_type||"ca",duration_minutes:a.duration_minutes||30,total_score:a.total_score||10,instructions:a.instructions||"",shuffle_questions:a.shuffle_questions==1||a.shuffle_questions===!0,shuffle_options:a.shuffle_options==1||a.shuffle_options===!0,show_results:a.show_results_immediately==0,start_datetime:a.start_datetime||"",end_datetime:a.end_datetime||"",questions:Ne}),A(s),j(we),a.subject&&ee(a.subject),a.class&&a.session&&a.term&&se(a.class,a.session,a.term),y(!0),M(1)}else x(n.message||"Failed to load exam")}catch(r){x("Failed to load exam for editing"),console.error("Edit exam error:",r)}},ge=s=>{Q(s)},fe=async()=>{const s=K;Q(null);try{const n=await(await fetch(`${m}/cbt/exams?id=${s}`,{method:"DELETE",credentials:"include"})).json();n.success?C():x(n.message||"Failed to delete exam")}catch(r){x("Failed to delete exam"),console.error("Delete exam error:",r)}},S=()=>{i({exam_title:"",subject:"",class_name:"",session:"",term:"",assessment_type:"ca",duration_minutes:30,total_score:10,instructions:"Answer all questions to the best of your ability.",shuffle_questions:!0,shuffle_options:!0,show_results:!1,start_datetime:"",end_datetime:"",questions:[]}),M(1),j([]),I([]),E([]),A(null)},be=s=>{t.questions.includes(s)?i({...t,questions:t.questions.filter(r=>r!==s)}):i({...t,questions:[...t.questions,s]})},ye=()=>{const r=v().map(a=>a.id);if(r.every(a=>t.questions.includes(a)))i({...t,questions:t.questions.filter(a=>!r.includes(a))});else{const a=[...t.questions];r.forEach(d=>{a.includes(d)||a.push(d)}),i({...t,questions:a})}},v=()=>w.filter(s=>{var r;return!(c.subject&&s.subject!==c.subject||c.difficulty&&s.difficulty!==c.difficulty||c.topic&&!((r=s.topic)!=null&&r.toLowerCase().includes(c.topic.toLowerCase())))}),je=s=>{h.includes(s)?j(h.filter(r=>r!==s)):j([...h,s])},ve=()=>{h.length===_.length?j([]):j(_.map(s=>s.id))};return oe&&u.length===0?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary-100 border-t-primary-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Loading exams..."})]})}):e.jsxs("div",{className:"min-h-screen",children:[e.jsx("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"CBT Exam Management"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Create, manage and publish computer-based tests"})]})]})}),e.jsxs("button",{onClick:()=>{y(!0),S()},className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white px-4 py-2 rounded-lg hover:from-primary-600 hover:to-primary-700 transition-all duration-200 text-sm font-medium flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Exam"]})]})}),H&&e.jsx("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:H}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg max-w-md w-full border border-gray-200",children:e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Publish Exam"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Are you sure you want to publish this exam? Students will be able to take it once published."})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>z(null),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:"Cancel"}),e.jsx("button",{onClick:he,className:"px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all text-sm font-medium",children:"Publish Exam"})]})]})})}),K&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg max-w-md w-full border border-gray-200",children:e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Delete Exam"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Are you sure you want to delete this exam? This action cannot be undone."})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>Q(null),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:"Cancel"}),e.jsx("button",{onClick:fe,className:"px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all text-sm font-medium",children:"Delete Exam"})]})]})})}),ce&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-200",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-primary-50 to-primary-100/50 border-b border-primary-200 px-5 py-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:f?"Edit Exam":"Create New Exam"})]}),e.jsx("button",{onClick:()=>{y(!1),S()},className:"text-gray-500 hover:text-gray-700 hover:bg-white/50 p-1.5 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex items-center justify-between",children:["Exam Details","Select Questions","Assign Students","Review"].map((s,r)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:`flex items-center ${r<3?"flex-1":""}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all ${o>r+1?"bg-gradient-to-br from-primary-500 to-primary-600 text-white":o===r+1?"bg-gradient-to-br from-primary-500 to-primary-600 text-white ring-2 ring-primary-200":"bg-white text-gray-400 border-2 border-gray-200"}`,children:o>r+1?e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):r+1}),e.jsx("span",{className:`ml-2 text-xs ${o===r+1?"font-semibold text-primary-700":"text-gray-600"}`,children:s})]}),r<3&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 rounded-full transition-all ${o>r+1?"bg-gradient-to-r from-primary-500 to-primary-600":"bg-gray-200"}`})]},r))})]}),e.jsxs("div",{className:"p-6",children:[o===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Title *"}),e.jsx("input",{type:"text",value:t.exam_title,onChange:s=>i({...t,exam_title:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Mathematics CA Test 1",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class *"}),e.jsxs("select",{value:t.class_name,onChange:s=>{i({...t,class_name:s.target.value,subject:""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[e.jsx("option",{value:"",children:"-- Select class --"}),[...new Set(N.map(s=>s.class_name))].filter(Boolean).map((s,r)=>e.jsx("option",{value:s,children:s},r))]}),N.length===0&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No classes assigned to you."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),e.jsxs("select",{value:t.subject,onChange:s=>i({...t,subject:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,disabled:!t.class_name,children:[e.jsx("option",{value:"",children:"-- Select a subject --"}),t.class_name&&(()=>{const s=N.filter(n=>n.class_name===t.class_name&&n.subject).map(n=>n.subject);return(s.length>0?[...new Set(s)]:le).map((n,a)=>e.jsx("option",{value:n,children:n},a))})()]}),!t.class_name&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please select a class first."}),t.class_name&&N.filter(s=>s.class_name===t.class_name&&s.subject).length===0&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You have full class access - all subjects available."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assessment Type *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{value:t.assessment_type,onChange:s=>i({...t,assessment_type:s.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:L.map(s=>e.jsx("option",{value:s.toLowerCase().replace(/\s+/g,"_"),children:s},s))}),e.jsx("button",{type:"button",onClick:()=>F(!V),className:"px-4 py-2 bg-primary-50 text-primary-700 border border-primary-300 rounded-lg hover:bg-primary-100 transition-colors whitespace-nowrap",title:"Add new assessment type",children:"+ Add New"})]}),V&&e.jsxs("div",{className:"mt-3 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Add New Assessment Type"}),J&&e.jsx("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 text-red-700 text-sm rounded",children:J}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:$,onChange:s=>{P(s.target.value),b("")},onKeyPress:s=>{s.key==="Enter"&&(s.preventDefault(),Z())},placeholder:"e.g., Quiz, Project, Mid-Term",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"}),e.jsx("button",{type:"button",onClick:Z,className:"px-4 py-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-lg hover:from-primary-600 hover:to-primary-700 shadow-sm hover:shadow transition-colors",children:"Add"}),e.jsx("button",{type:"button",onClick:()=>{F(!1),P(""),b("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"This will be saved to your school settings and available for all exams."})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session *"}),e.jsxs("select",{value:t.session,onChange:s=>i({...t,session:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[e.jsx("option",{value:"",children:"-- Select session --"}),[...new Set(N.map(s=>s.session))].filter(Boolean).map((s,r)=>e.jsx("option",{value:s,children:s},r))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Term *"}),e.jsxs("select",{value:t.term,onChange:s=>i({...t,term:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[e.jsx("option",{value:"",children:"-- Select term --"}),e.jsx("option",{value:"First Term",children:"First Term"}),e.jsx("option",{value:"Second Term",children:"Second Term"}),e.jsx("option",{value:"Third Term",children:"Third Term"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date & Time"}),e.jsx("input",{type:"datetime-local",value:t.start_datetime,onChange:s=>i({...t,start_datetime:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date & Time"}),e.jsx("input",{type:"datetime-local",value:t.end_datetime,onChange:s=>i({...t,end_datetime:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes) *"}),e.jsx("input",{type:"number",value:t.duration_minutes,onChange:s=>i({...t,duration_minutes:parseInt(s.target.value)||0}),min:"5",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Total Score (Max: ",W(),") *"]}),e.jsx("input",{type:"number",value:t.total_score,onChange:s=>{const r=parseInt(s.target.value)||0,n=W();i({...t,total_score:Math.min(r,n)})},min:"1",max:W(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Each question will be worth ",t.questions.length>0?X():"—"," marks"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructions"}),e.jsx("textarea",{value:t.instructions,onChange:s=>i({...t,instructions:s.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.shuffle_questions,onChange:s=>i({...t,shuffle_questions:s.target.checked}),className:"w-4 h-4 text-green-600 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Shuffle question order for each student"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.shuffle_options,onChange:s=>i({...t,shuffle_options:s.target.checked}),className:"w-4 h-4 text-green-600 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Shuffle answer options"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.show_results,onChange:s=>i({...t,show_results:s.target.checked}),className:"w-4 h-4 text-green-600 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Hide results after submission (students cannot view results)"})]})]})]}),o===2&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Select questions for this exam. ",t.questions.length," question(s) selected."]}),w.length>0&&e.jsx("button",{onClick:ye,className:"text-sm text-green-600 hover:underline font-medium",children:v().every(s=>t.questions.includes(s.id))&&v().length>0?"Deselect All":"Select All"})]}),w.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsxs("p",{children:["No questions found for ",t.subject,"."]}),e.jsx(ke,{to:"/teacher/cbt/questions",className:"text-green-600 hover:underline mt-2 inline-block",children:"Go to Question Bank to create questions"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Filter by Subject"}),e.jsxs("select",{value:c.subject,onChange:s=>T({...c,subject:s.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"All Subjects"}),[...new Set(w.map(s=>s.subject))].map((s,r)=>e.jsx("option",{value:s,children:s},r))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Filter by Difficulty"}),e.jsxs("select",{value:c.difficulty,onChange:s=>T({...c,difficulty:s.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"All Difficulties"}),e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Search by Topic"}),e.jsx("input",{type:"text",value:c.topic,onChange:s=>T({...c,topic:s.target.value}),placeholder:"Type to filter...",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),(c.subject||c.difficulty||c.topic)&&e.jsxs("div",{className:"mb-3 flex justify-between items-center",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:["Showing ",v().length," of ",w.length," questions"]}),e.jsx("button",{onClick:()=>T({subject:"",difficulty:"",topic:""}),className:"text-xs text-gray-600 hover:text-gray-800 underline",children:"Clear Filters"})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:v().length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No questions match the current filters."})}):v().map(s=>e.jsxs("label",{className:"flex items-start p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.questions.includes(s.id),onChange:()=>be(s.id),className:"w-4 h-4 text-green-600 rounded mt-1"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded",children:s.subject}),s.topic&&e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded",children:s.topic}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${s.difficulty==="easy"?"bg-green-100 text-green-800":s.difficulty==="hard"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:s.difficulty}),e.jsxs("span",{className:"text-xs text-gray-500",children:[s.marks," mark(s)"]})]}),e.jsx("p",{className:"text-sm text-gray-900",children:s.question_text})]})]},s.id))})]})]}),o===3&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Select students who will take this exam. ",h.length," student(s) selected."]}),e.jsx("button",{onClick:ve,className:"text-sm text-green-600 hover:underline",children:h.length===_.length?"Deselect All":"Select All"})]}),_.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:["No students found for ",t.class_name,"."]}):e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:_.map(s=>e.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h.includes(s.id),onChange:()=>je(s.id),className:"w-4 h-4 text-green-600 rounded"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.admission_number})]})]},s.id))})]}),o===4&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Exam Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Title:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.exam_title})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Subject:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.subject})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Class:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.class_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Assessment:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.assessment_type.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Duration:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[t.duration_minutes," minutes"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total Score:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[t.total_score," marks"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Questions:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.questions.length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Per Question:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[X()," marks"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Students:"}),e.jsx("span",{className:"ml-2 font-medium",children:h.length})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-800",children:"✓ This exam will be created as a draft. You can publish it when ready."}),e.jsx("p",{className:"text-sm text-blue-800 mt-1",children:"✓ Scores will automatically update student report cards upon submission."})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 flex justify-between border-t",children:[e.jsx("button",{onClick:()=>te(Math.max(1,o-1)),disabled:o===1,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),o<4?e.jsx("button",{onClick:()=>te(o+1),disabled:o===1&&(!t.exam_title||!t.subject||!t.class_name||!t.session||!t.term)||o===2&&t.questions.length===0||o===3&&h.length===0,className:"px-6 py-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-lg hover:from-primary-600 hover:to-primary-700 shadow-sm hover:shadow disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"}):e.jsxs("button",{onClick:ue,disabled:D,className:"px-6 py-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-lg hover:from-primary-600 hover:to-primary-700 shadow-sm hover:shadow disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[D&&e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),D?f?"Updating...":"Creating...":f?"Update Exam":"Create Exam"]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:u.length===0?e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-50 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("svg",{className:"w-8 h-8 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:"No exams yet"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating your first CBT exam"}),e.jsxs("button",{onClick:()=>{y(!0),S()},className:"inline-flex items-center gap-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white px-4 py-2 rounded-lg hover:from-primary-600 hover:to-primary-700 transition-all text-sm font-medium",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Exam"]})]}):(()=>{const s=p*g,r=s-g;return u.slice(r,s).map(a=>{var d;return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:a.exam_title}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${a.is_published==1||a.is_published===!0?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:a.is_published==1||a.is_published===!0?"✓ Published":"○ Draft"}),e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-primary-50 text-primary-700 rounded-full",children:(d=a.assessment_type)==null?void 0:d.toUpperCase()})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),a.subject]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:a.class_name}),e.jsx("span",{children:"•"}),e.jsx("span",{children:a.session}),e.jsx("span",{children:"•"}),e.jsx("span",{children:a.term})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>pe(a.id),className:"px-3 py-1.5 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors text-xs font-medium",children:"Edit"}),a.is_published!=1&&a.is_published!==!0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>xe(a.id),className:`px-3 py-1.5 text-white rounded-lg text-xs font-medium transition-all ${a.question_count==0||a.assigned_students==0?"bg-gray-300 cursor-not-allowed":"bg-green-500 hover:bg-green-600"}`,disabled:a.question_count==0||a.assigned_students==0,title:a.question_count==0?"Cannot publish: No questions added":a.assigned_students==0?"Cannot publish: No students assigned":"Publish this exam to make it available to students",children:"Publish"}),e.jsx("button",{onClick:()=>ge(a.id),className:"px-3 py-1.5 border border-red-200 text-red-600 rounded-lg hover:bg-red-50 transition-colors text-xs font-medium",children:"Delete"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 p-3 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-blue-700 mb-1",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-xs font-medium",children:"Questions"})]}),e.jsx("p",{className:"text-xl font-bold text-blue-900",children:a.question_count})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100/50 p-3 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-purple-700 mb-1",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),e.jsx("p",{className:"text-xs font-medium",children:"Assigned"})]}),e.jsx("p",{className:"text-xl font-bold text-purple-900",children:a.assigned_students})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100/50 p-3 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-green-700 mb-1",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-xs font-medium",children:"Completed"})]}),e.jsx("p",{className:"text-xl font-bold text-green-900",children:a.completed_count})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100/50 p-3 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-orange-700 mb-1",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-xs font-medium",children:"Duration"})]}),e.jsxs("p",{className:"text-xl font-bold text-orange-900",children:[a.duration_minutes," min"]})]})]})]})},a.id)})})()}),u.length>g&&e.jsxs("div",{className:"mt-4 bg-white rounded-lg px-4 py-3 flex items-center justify-between border border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>k(s=>Math.max(s-1,1)),disabled:p===1,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-lg transition-colors ${p===1?"bg-gray-100 text-gray-400 cursor-not-allowed border-gray-200":"bg-white text-gray-700 hover:bg-primary-50 border-gray-300 hover:border-primary-300"}`,children:"Previous"}),e.jsx("button",{onClick:()=>k(s=>Math.min(s+1,Math.ceil(u.length/g))),disabled:p===Math.ceil(u.length/g),className:`ml-3 relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-lg transition-colors ${p===Math.ceil(u.length/g)?"bg-gray-100 text-gray-400 cursor-not-allowed border-gray-200":"bg-white text-gray-700 hover:bg-primary-50 border-gray-300 hover:border-primary-300"}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-semibold text-primary-600",children:(p-1)*g+1})," to"," ",e.jsx("span",{className:"font-semibold text-primary-600",children:Math.min(p*g,u.length)})," of"," ",e.jsx("span",{className:"font-semibold text-primary-600",children:u.length})," exams"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-lg shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>k(s=>Math.max(s-1,1)),disabled:p===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-lg border text-sm font-medium transition-colors ${p===1?"bg-gray-100 text-gray-400 cursor-not-allowed border-gray-200":"bg-white text-gray-500 hover:bg-primary-50 border-gray-300 hover:border-primary-300"}`,children:e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),Array.from({length:Math.ceil(u.length/g)},(s,r)=>r+1).map(s=>e.jsx("button",{onClick:()=>k(s),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium transition-colors ${p===s?"z-10 bg-primary-500 border-primary-500 text-white":"bg-white border-gray-300 text-gray-700 hover:bg-primary-50 hover:border-primary-300"}`,children:s},s)),e.jsx("button",{onClick:()=>k(s=>Math.min(s+1,Math.ceil(u.length/g))),disabled:p===Math.ceil(u.length/g),className:`relative inline-flex items-center px-2 py-2 rounded-r-lg border text-sm font-medium transition-colors ${p===Math.ceil(u.length/g)?"bg-gray-100 text-gray-400 cursor-not-allowed border-gray-200":"bg-white text-gray-500 hover:bg-primary-50 border-gray-300 hover:border-primary-300"}`,children:e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})})]})]})]})};export{Se as default};
