import{u as G,v as q,r as o,j as e}from"./index.UZcXu8dh.js";import{F as H,G as I,H as U,e as $}from"./api.CIjYu6Aj.js";const O=()=>{const j=G(),M=q(),[v,N]=o.useState(!1),[E,w]=o.useState(!1),[k,b]=o.useState(""),[C,x]=o.useState(""),[h,A]=o.useState(null),[V,F]=o.useState(!1),[_,S]=o.useState(!1),[f,m]=o.useState(!1),[g,p]=o.useState(null),[i,T]=o.useState(!1),y=M.pathname.startsWith("/teacher"),[r,u]=o.useState({name:"",admission_no:"",class:"",session:"",term:"",gender:"",height:"",weight:"",club_society:"",fav_col:"",photo:"",parent_name:"",parent_email:"",parent_phone:"",parent_password:"",parent_relationship:"guardian"});o.useEffect(()=>{L()},[]),o.useEffect(()=>{i&&r.parent_email&&r.parent_email.includes("@")&&P(r.parent_email)},[i]);const L=async()=>{try{w(!0);const s=await H();s.success&&u(a=>({...a,admission_no:s.admission_number}))}catch(s){console.error("Error generating admission number:",s)}finally{w(!1)}},P=async s=>{if(!s||!s.includes("@")){m(!1),p(null);return}try{S(!0),console.log("Checking parent email:",s);const a=await I();if(console.log("Response data:",a),a.success&&a.parents){console.log("Total parents:",a.parents.length),console.log("Searching for email:",s.toLowerCase());const t=a.parents.find(l=>{var d,c;return console.log("Comparing:",(d=l.email)==null?void 0:d.toLowerCase(),"with",s.toLowerCase()),((c=l.email)==null?void 0:c.toLowerCase())===s.toLowerCase()});console.log("Found parent:",t),t?(m(!0),p(t),i&&u(l=>({...l,parent_name:t.full_name||t.name||"",parent_phone:t.phone||""}))):(console.log("No parent found with email:",s),m(!1),p(null))}else console.log("API call failed or no parents returned"),m(!1),p(null)}catch(a){console.error("Error checking parent email:",a),m(!1),p(null)}finally{S(!1)}},n=s=>{const{name:a,value:t}=s.target;u(l=>({...l,[a]:t})),b(""),a==="parent_email"&&i&&t.includes("@")&&(m(!1),p(null),P(t))},z=s=>{const a=s.target.files[0];if(a){const t=new FileReader;t.onloadend=()=>{u(l=>({...l,photo:t.result}))},t.readAsDataURL(a)}},B=s=>{const a=s.target.files[0];if(a){const t=new FileReader;t.onloadend=()=>{u(l=>({...l,photo:t.result})),F(!1)},t.readAsDataURL(a)}},R=()=>{u(s=>({...s,photo:""}))},D=async s=>{var a,t,l;s.preventDefault(),N(!0),b(""),x("");try{const d=await U(r);if(d.success){if(r.parent_email&&r.parent_name&&((a=d.student)!=null&&a.id))try{const c=await $({student_id:d.student.id,parent_email:r.parent_email,parent_name:r.parent_name,parent_phone:r.parent_phone||"",parent_password:r.parent_password,relationship:r.parent_relationship,is_primary:!0});(t=c.data)!=null&&t.is_new_parent&&((l=c.data)!=null&&l.default_password)?(A(c.data.default_password),x("Student profile created and parent account created successfully!")):x("Student profile created and linked to existing parent account!")}catch(c){console.error("Error linking parent:",c),x("Student created, but there was an issue linking the parent account. You can add parent details later.")}else x("Student profile created successfully!");h||setTimeout(()=>{j(y?"/teacher/students":"/dashboard/students")},2e3)}else b(d.message||"Failed to create student profile")}catch(d){console.error("Error creating student:",d),b("An error occurred while creating the student profile")}finally{N(!1)}},W=new Date().getFullYear()+"/"+(new Date().getFullYear()+1);return e.jsxs("div",{className:"max-w-[1800px] mx-auto px-2 sm:px-4 py-2 sm:py-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-t-lg px-4 sm:px-6 py-3 sm:py-4 mb-2 sm:mb-4",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white",children:"Add New Student"}),e.jsx("p",{className:"text-primary-100 text-xs sm:text-sm mt-1",children:"Fill in the student information to create a new profile"})]}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow p-3 sm:p-4",children:[k&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-400 rounded",children:e.jsx("p",{className:"text-sm text-red-700",children:k})}),C&&e.jsxs("div",{className:"mb-4 p-4 bg-green-50 border-l-4 border-green-400 rounded",children:[e.jsx("p",{className:"text-sm text-green-700 font-semibold",children:C}),h&&e.jsxs("div",{className:"mt-3 p-3 bg-white border border-green-300 rounded",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Parent Login Credentials"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{className:"text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",r.parent_email]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Default Password:"})," ",e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded text-green-700 font-semibold",children:h})]})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2 italic",children:"Please share these credentials with the parent. They can use this to login to the parent portal."}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`Email: ${r.parent_email}
Password: ${h}`),alert("Credentials copied to clipboard!")},className:"mt-2 text-xs bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded transition-colors",children:"Copy Credentials"})]})]}),e.jsxs("form",{onSubmit:D,className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center mb-2 sm:mb-3",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-800",children:"Personal Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:r.name,onChange:n,required:!0,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"Enter student's full name"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Admission Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",name:"admission_no",value:r.admission_no,onChange:n,required:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Generating..."}),e.jsx("button",{type:"button",onClick:L,disabled:E,className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Generate new admission number",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated. Click refresh to generate a new number."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"gender",value:r.gender,onChange:n,required:!0,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"MALE",children:"Male"}),e.jsx("option",{value:"FEMALE",children:"Female"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Class ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"class",value:r.class,onChange:n,required:!0,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"e.g., Primary 1A, JSS 2B"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (cm)"}),e.jsx("input",{type:"text",name:"height",value:r.height,onChange:n,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"e.g., 120"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),e.jsx("input",{type:"text",name:"weight",value:r.weight,onChange:n,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"e.g., 35"})]}),e.jsxs("div",{className:"sm:col-span-2 lg:col-span-3 border-t border-gray-300 pt-3 mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-700",children:"Parent/Guardian Information"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:s=>{T(s.target.checked),s.target.checked||(m(!1),p(null),u(a=>({...a,parent_name:"",parent_phone:"",parent_password:""})))},className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-2 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Link to existing parent"})]})]}),e.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 ${i?"lg:grid-cols-1":""}`,children:[!i&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Parent/Guardian Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"parent_name",value:r.parent_name,onChange:n,required:!0,disabled:f,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"e.g., John Doe"}),f&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-filled from existing parent account"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Parent/Guardian Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",name:"parent_email",value:r.parent_email,onChange:n,required:!0,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"parent@example.com"}),_&&e.jsx("div",{className:"absolute right-3 top-3",children:e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary-600 border-t-transparent rounded-full"})})]}),i&&f&&g&&e.jsx("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-semibold text-sm text-green-800",children:["Parent Account Found: ",g.full_name||g.name]}),e.jsx("p",{className:"text-xs text-green-700 mt-1",children:"This student will be linked to the existing parent account"}),e.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[e.jsxs("p",{children:["Email: ",g.email]}),e.jsxs("p",{children:["Phone: ",g.phone||"Not set"]})]})]})]})}),i&&r.parent_email&&!f&&!_&&r.parent_email.includes("@")&&e.jsxs("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg flex items-start gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsx("p",{className:"text-xs text-amber-800",children:'Parent not found. Please uncheck "Link to existing parent" to create a new account.'})]})]}),!i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"parent_phone",value:r.parent_phone,onChange:n,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"+234812345678"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Parent App Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"parent_password",value:r.parent_password,onChange:n,required:!0,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"Enter password for parent app login"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This password will be used by the parent to login to the mobile app"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Relationship ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"parent_relationship",value:r.parent_relationship,onChange:n,required:!0,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"father",children:"Father"}),e.jsx("option",{value:"mother",children:"Mother"}),e.jsx("option",{value:"guardian",children:"Guardian"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This information will be used to create a parent account for accessing student reports online."})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center mb-2 sm:mb-3",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-800",children:"Academic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Session ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"session",value:r.session,onChange:n,required:!0,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:`e.g., ${W}`})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Term ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"term",value:r.term,onChange:n,required:!0,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"First Term",children:"First Term"}),e.jsx("option",{value:"Second Term",children:"Second Term"}),e.jsx("option",{value:"Third Term",children:"Third Term"})]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center mb-2 sm:mb-3",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-800",children:"Additional Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Club/Society"}),e.jsx("input",{type:"text",name:"club_society",value:r.club_society,onChange:n,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"e.g., Science Club"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Favorite Color"}),e.jsx("input",{type:"text",name:"fav_col",value:r.fav_col,onChange:n,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"e.g., Blue"})]}),e.jsxs("div",{className:"sm:col-span-2 lg:col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student Photo"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:r.photo?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.photo,alt:"Student preview",className:"w-32 h-32 object-cover rounded-lg border-2 border-primary-200"}),e.jsx("button",{type:"button",onClick:R,className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 transition-colors",title:"Remove photo",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):e.jsx("div",{className:"w-32 h-32 bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),e.jsxs("div",{className:"flex-1 w-full",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"camera-capture",accept:"image/*",capture:!0,onChange:B,className:"hidden"}),e.jsxs("label",{htmlFor:"camera-capture",className:"flex items-center justify-center gap-2 px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 cursor-pointer transition-colors",children:[e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"font-medium",children:"Take Photo"})]})]}),e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"file-upload",accept:"image/*",onChange:z,className:"hidden"}),e.jsxs("label",{htmlFor:"file-upload",className:"flex items-center justify-center gap-2 px-4 py-3 bg-white border-2 border-primary-300 text-primary-700 rounded-lg hover:bg-primary-50 cursor-pointer transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("span",{className:"font-medium",children:"Choose from Files"})]})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[e.jsx("strong",{children:"Take Photo:"})," Opens camera to capture image directly. ",e.jsx("strong",{children:"Choose from Files:"})," Select existing photo from your device."]})]})]})]})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-2",children:h?e.jsx("button",{type:"button",onClick:()=>j(y?"/teacher/students":"/dashboard/students"),className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-semibold py-2.5 px-4 rounded-lg transition-colors duration-200",children:"Done - Go to Students List"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"submit",disabled:v,className:"w-full sm:flex-1 bg-primary-600 hover:bg-primary-700 text-white font-semibold py-2.5 px-4 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Creating...":"Create Student Profile"}),e.jsx("button",{type:"button",onClick:()=>j(y?"/teacher/students":"/dashboard/students"),className:"w-full sm:w-auto px-6 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"})]})})]})]})]})};export{O as default};
