import{r as n,u as N,A as w,j as e,N as r,O as L}from"./index.UZcXu8dh.js";import{a as C}from"./api.CIjYu6Aj.js";import{S as M}from"./SubscriptionBanner.B5oIrVbp.js";import"./credit-card.C57WBUBh.js";function $({teacher:t,onLogout:j}){var u,p;const[o,v]=n.useState([]),[d,c]=n.useState(!1),[i,f]=n.useState(!1),[l,x]=n.useState(!1),[m,y]=n.useState(null),h=N();n.useEffect(()=>{g(),k()},[]);const g=async()=>{try{const s=await C();s.success&&v(s.classes||[])}catch(s){console.error("Error fetching classes:",s)}},k=async()=>{try{const a=await(await fetch(`${w}/school/get-profile`,{credentials:"include"})).json();a.success&&a.data&&y(a.data.logo)}catch(s){console.error("Error fetching school profile:",s)}},b=()=>{localStorage.removeItem("userType"),localStorage.removeItem("teacherData"),j(),h("/teacher/login")};return e.jsxs("div",{className:"min-h-screen bg-gray-50","data-portal":"teacher",children:[e.jsx(M,{school:t==null?void 0:t.school}),e.jsx("nav",{className:"bg-white border-b border-gray-200 print:hidden sticky top-0 z-50",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>x(!l),className:"lg:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100",children:l?e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),m?e.jsx("img",{src:m,alt:"School Logo",className:"w-12 h-12 object-contain rounded-lg"}):e.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Teacher Portal"}),e.jsx("p",{className:"text-xs text-gray-500",children:t==null?void 0:t.school_name})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>c(!d),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 font-semibold text-sm",children:((u=t==null?void 0:t.name)==null?void 0:u.charAt(0))||"T"})}),e.jsx("span",{className:"hidden md:inline",children:t==null?void 0:t.name}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t==null?void 0:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:t==null?void 0:t.email})]}),e.jsxs("button",{onClick:()=>{c(!1),h("/teacher/dashboard")},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"View Profile"]})]})})]}),e.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})})}),e.jsxs("div",{className:"flex",children:[l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>x(!1)}),e.jsxs("aside",{className:`
          w-64 pt-10 bg-white border-r border-gray-200 h-screen print:hidden fixed top-16 left-0 overflow-y-auto flex flex-col z-50
          transition-transform duration-300 ease-in-out
          lg:translate-x-0
          ${l?"translate-x-0":"-translate-x-full"}
        `,children:[e.jsxs("nav",{className:"p-4 space-y-1 flex-1",children:[e.jsxs(r,{to:"/teacher/dashboard",end:!0,className:({isActive:s})=>`flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors ${s?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Dashboard"]}),e.jsxs(r,{to:"/teacher/mark-attendance",className:({isActive:s})=>`flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors ${s?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Mark Attendance"]}),e.jsxs(r,{to:"/teacher/add-student",className:({isActive:s})=>`flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors ${s?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Add Student"]}),e.jsxs(r,{to:"/teacher/create-report",className:({isActive:s})=>`flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors ${s?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Create Report Card"]}),e.jsxs(r,{to:"/teacher/students",className:({isActive:s})=>`flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors ${s?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"View All Students"]}),e.jsxs(r,{to:"/teacher/manage-class-subjects",className:({isActive:s})=>`flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors ${s?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Class Subjects"]}),e.jsxs(r,{to:"/teacher/manage-student-subjects",className:({isActive:s})=>`flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors ${s?"bg-green-50 text-green-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Student Subjects"]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>f(!i),className:"w-full flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg transition-colors text-gray-700 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"CBT System"]}),e.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&e.jsxs("div",{className:"ml-8 mt-1 space-y-1",children:[e.jsxs(r,{to:"/teacher/cbt",end:!0,className:({isActive:s})=>`flex items-center gap-3 px-4 py-2 text-sm rounded-lg transition-colors ${s?"bg-green-50 text-green-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"CBT Analytics"]}),e.jsxs(r,{to:"/teacher/cbt/questions",className:({isActive:s})=>`flex items-center gap-3 px-4 py-2 text-sm rounded-lg transition-colors ${s?"bg-green-50 text-green-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Question Bank"]}),e.jsxs(r,{to:"/teacher/cbt/exams",className:({isActive:s})=>`flex items-center gap-3 px-4 py-2 text-sm rounded-lg transition-colors ${s?"bg-green-50 text-green-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Exam Management"]}),e.jsxs(r,{to:"/teacher/cbt/results",className:({isActive:s})=>`flex items-center gap-3 px-4 py-2 text-sm rounded-lg transition-colors ${s?"bg-green-50 text-green-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Exam Results"]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"px-4 py-2",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"My Classes"}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[o.length," ",o.length===1?"class":"classes"," assigned"]})]}),o.length>0&&e.jsx("div",{className:"mt-2 space-y-1",children:o.slice(0,5).map((s,a)=>e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg mx-2",children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.class_name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[s.session," - ",s.term]})]},a))})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50 mt-auto",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 font-bold text-sm",children:((p=t==null?void 0:t.name)==null?void 0:p.charAt(0))||"T"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:t==null?void 0:t.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t==null?void 0:t.email})]})]})})]}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-4 sm:p-6 lg:p-8 lg:ml-64",children:e.jsx(L,{context:{teacher:t,classes:o,refreshClasses:g}})})]})]})}export{$ as default};
