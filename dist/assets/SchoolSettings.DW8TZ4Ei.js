import{w as pe,r as i,j as e}from"./index.UZcXu8dh.js";import{l as ge,p as he,q as b}from"./api.CIjYu6Aj.js";function je(){const{toast:a}=pe(),[be,Q]=i.useState(null),[J,G]=i.useState(!0),[d,l]=i.useState(!1),[x,f]=i.useState("grading"),[_,Y]=i.useState({A:[75,100],B:[65,74],C:[55,64],D:[45,54],F:[0,44]}),[N,A]=i.useState([]),[P,R]=i.useState(""),[w,E]=i.useState(["CA","Exam"]),[k,L]=i.useState(""),[n,B]=i.useState({ca_max_marks:40,exam_max_marks:60}),[u,T]=i.useState(!1),[m,$]=i.useState([]),[p,F]=i.useState({name:"",max_marks:""}),[y,M]=i.useState({start:"",end:""}),[h,j]=i.useState({show_logo_on_report:!0,show_motto_on_report:!0,header_text:"",footer_text:""}),[v,D]=i.useState(""),[C,O]=i.useState("First Term"),[q,z]=i.useState(!1);i.useEffect(()=>{U()},[]);const U=async()=>{try{G(!0);const s=await ge();if(s.success){if(Q(s.data),s.data.grading_scale&&Y(s.data.grading_scale),s.data.available_subjects){const r=s.data.available_subjects.map(t=>t.toUpperCase());A(r)}s.data.assessment_types&&E(s.data.assessment_types),(s.data.ca_max_marks!==void 0||s.data.exam_max_marks!==void 0)&&B({ca_max_marks:s.data.ca_max_marks||40,exam_max_marks:s.data.exam_max_marks||60}),s.data.use_ca_breakdown!==void 0&&T(s.data.use_ca_breakdown),s.data.ca_components&&$(s.data.ca_components),s.data.academic_year_start&&s.data.academic_year_end&&M({start:s.data.academic_year_start,end:s.data.academic_year_end}),j({show_logo_on_report:s.data.show_logo_on_report!==!1,show_motto_on_report:s.data.show_motto_on_report!==!1,header_text:s.data.header_text||"",footer_text:s.data.footer_text||""}),s.data.current_session&&D(s.data.current_session),s.data.current_term&&O(s.data.current_term)}}catch(s){console.error("Error:",s),a.error("Failed to load settings.")}finally{G(!1)}},X=async()=>{if(!v.trim()){a.error("Please enter a session (e.g., 2024/2025)");return}try{z(!0);const s=await he(v,C);s.success?(a.success("Current session updated successfully!"),U()):a.error(s.message||"Failed to update session")}catch(s){console.error("Error:",s),a.error("Failed to update session")}finally{z(!1)}},I=(s,r,t)=>{Y(o=>({...o,[s]:[r===0?parseInt(t)||0:o[s][0],r===1?parseInt(t)||0:o[s][1]]}))},Z=()=>{const s=["A","B","C","D","F"],r=[];for(const o of s){const[c,g]=_[o];c>=g&&r.push(`Grade ${o}: Minimum (${c}) must be less than maximum (${g})`),(c<0||g>100)&&r.push(`Grade ${o}: Values must be between 0 and 100`)}const t=Object.entries(_).sort((o,c)=>c[1][0]-o[1][0]);for(let o=0;o<t.length-1;o++){const[c,[g,xe]]=t[o],[H,[ue,S]]=t[o+1];g<=S&&r.push(`Overlap detected: Grade ${c} (${g}-${xe}) overlaps with ${H} (${ue}-${S})`),g>S+1&&r.push(`Gap detected between Grade ${c} and ${H}: ${S+1} to ${g-1} is not covered`)}return r},ee=async()=>{const s=Z();if(s.length>0){a.error(`Please fix the following errors:

`+s.join(`
`),8e3);return}l(!0);try{const r=await b({grading_scale:_});r.success?a.success("Grading scale updated successfully!"):a.error("Error: "+r.message)}catch(r){console.error("Error:",r),a.error("Failed to save grading scale.")}finally{l(!1)}},W=()=>{const s=P.trim().toUpperCase();s&&!N.includes(s)&&(A(r=>[...r,s]),R(""))},se=s=>{A(r=>r.filter((t,o)=>o!==s))},re=async()=>{l(!0);try{const s=await b({available_subjects:N});s.success?a.success("Subjects updated successfully!"):a.error("Error: "+s.message)}catch(s){console.error("Error:",s),a.error("Failed to save subjects.")}finally{l(!1)}},K=()=>{k.trim()&&!w.includes(k.trim())&&(E(s=>[...s,k.trim()]),L(""))},ae=s=>{const r=w[s];if(r==="CA"||r==="Exam"){a.warning("Cannot remove default assessment types (CA and Exam)");return}E(t=>t.filter((o,c)=>c!==s))},te=async()=>{l(!0);try{const s=await b({assessment_types:w});s.success?a.success("Assessment types updated successfully!"):a.error("Error: "+s.message)}catch(s){console.error("Error:",s),a.error("Failed to save assessment types.")}finally{l(!1)}},V=(s,r)=>{const t=parseInt(r)||0;B(o=>({...o,[s]:t}))},ne=()=>{const s=[];return n.ca_max_marks<0&&s.push("CA maximum marks cannot be negative"),n.exam_max_marks<0&&s.push("Exam maximum marks cannot be negative"),n.ca_max_marks+n.exam_max_marks!==100&&s.push(`Total marks must equal 100 (currently: ${n.ca_max_marks+n.exam_max_marks})`),s},oe=async()=>{if(u){const s=de();if(s.length>0){a.error(`Please fix the following errors:

`+s.join(`
`),8e3);return}l(!0);try{const r=m.reduce((o,c)=>o+parseFloat(c.max_marks||0),0),t=await b({use_ca_breakdown:!0,ca_components:m,ca_max_marks:r,exam_max_marks:n.exam_max_marks});t.success?a.success("CA breakdown configuration saved successfully!"):a.error("Error: "+t.message)}catch(r){console.error("Error:",r),a.error("Failed to save CA breakdown configuration.")}finally{l(!1)}}else{const s=ne();if(s.length>0){a.error(`Please fix the following errors:

`+s.join(`
`),8e3);return}l(!0);try{const r=await b({use_ca_breakdown:!1,ca_components:null,...n});r.success?a.success("Assessment configuration updated successfully!"):a.error("Error: "+r.message)}catch(r){console.error("Error:",r),a.error("Failed to save assessment configuration.")}finally{l(!1)}}},ie=()=>{if(!p.name.trim()){a.warning("Please enter a component name");return}if(!p.max_marks||parseFloat(p.max_marks)<=0){a.warning("Please enter valid maximum marks");return}$(s=>[...s,{name:p.name.trim(),max_marks:parseFloat(p.max_marks)}]),F({name:"",max_marks:""})},le=s=>{$(r=>r.filter((t,o)=>o!==s))},de=()=>{const s=[];if(m.length===0)return s.push("Please add at least one CA component"),s;const r=m.reduce((t,o)=>t+parseFloat(o.max_marks||0),0);return r+n.exam_max_marks!==100&&s.push(`Total marks must equal 100 (CA: ${r} + Exam: ${n.exam_max_marks} = ${r+n.exam_max_marks})`),s},ce=async()=>{if(!y.start||!y.end){a.warning("Please select both start and end dates");return}l(!0);try{const s=await b({academic_year_start:y.start,academic_year_end:y.end});s.success?a.success("Academic year updated successfully!"):a.error("Error: "+s.message)}catch(s){console.error("Error:",s),a.error("Failed to save academic year.")}finally{l(!1)}},me=async()=>{l(!0);try{const s=await b(h);s.success?a.success("Report settings updated successfully!"):a.error("Error: "+s.message)}catch(s){console.error("Error:",s),a.error("Failed to save report settings.")}finally{l(!1)}};return J?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"School Settings"}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px overflow-x-auto",children:[e.jsx("button",{onClick:()=>f("grading"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${x==="grading"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Grading Scale"}),e.jsx("button",{onClick:()=>f("subjects"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${x==="subjects"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Subjects"}),e.jsx("button",{onClick:()=>f("assessments"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${x==="assessments"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Assessment Configuration"}),e.jsx("button",{onClick:()=>f("calendar"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${x==="calendar"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Academic Calendar"}),e.jsx("button",{onClick:()=>f("report"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${x==="report"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Report Customization"})]})}),e.jsxs("div",{className:"p-8",children:[x==="grading"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configure Grading Scale"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Set the score ranges for each grade"}),e.jsx("div",{className:"space-y-4 max-w-2xl",children:Object.entries(_).map(([s,r])=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg bg-primary-600 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:s})}),e.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[e.jsx("input",{type:"number",value:r[0],onChange:t=>I(s,0,t.target.value),min:"0",max:"100",className:"w-24 px-3 py-2 border border-gray-300 rounded-md"}),e.jsx("span",{className:"text-gray-500",children:"to"}),e.jsx("input",{type:"number",value:r[1],onChange:t=>I(s,1,t.target.value),min:"0",max:"100",className:"w-24 px-3 py-2 border border-gray-300 rounded-md"}),e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",r[0]," - ",r[1],")"]})]})]},s))}),e.jsx("button",{onClick:ee,disabled:d,className:"mt-6 px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors disabled:bg-gray-400",children:d?"Saving...":"Save Grading Scale"})]}),x==="subjects"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Manage Available Subjects"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Add or remove subjects offered by your school"}),e.jsxs("div",{className:"flex gap-3 mb-6 max-w-md",children:[e.jsx("input",{type:"text",value:P,onChange:s=>R(s.target.value),onKeyPress:s=>s.key==="Enter"&&W(),placeholder:"Enter subject name",className:"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500"}),e.jsx("button",{onClick:W,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Add"})]}),e.jsx("div",{className:"space-y-2 mb-6",children:N.length===0?e.jsx("p",{className:"text-gray-500 text-sm",children:"No subjects added yet"}):N.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-gray-900",children:s}),e.jsx("button",{onClick:()=>se(r),className:"text-red-600 hover:text-red-700 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},r))}),e.jsx("button",{onClick:re,disabled:d,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors disabled:bg-gray-400",children:d?"Saving...":"Save Subjects"})]}),x==="assessments"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Assessment Configuration"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Configure assessment types and scoring structure for your school"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-primary-600 text-white flex items-center justify-center font-bold text-sm",children:"1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Assessment Types"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Define assessment categories"})]})]}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"text",value:k,onChange:s=>L(s.target.value),onKeyPress:s=>s.key==="Enter"&&K(),placeholder:"e.g., Quiz, Project",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500"}),e.jsx("button",{onClick:K,className:"px-3 py-2 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Add"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:w.map((s,r)=>{const t=s==="CA"||s==="Exam";return e.jsxs("div",{className:`flex items-center justify-between p-2 rounded text-sm ${t?"bg-primary-100 border border-primary-300":"bg-gray-50 border border-gray-200"}`,children:[e.jsx("span",{className:"text-gray-900 font-medium truncate",children:s}),!t&&e.jsx("button",{onClick:()=>ae(r),className:"text-red-600 hover:text-red-700 ml-1",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},r)})}),e.jsx("button",{onClick:te,disabled:d,className:"w-full px-4 py-2 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors disabled:bg-gray-400",children:d?"Saving...":"Save Types"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-primary-600 text-white flex items-center justify-center font-bold text-sm",children:"2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"CA Scoring Mode"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Choose your CA structure"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-colors hover:bg-gray-50 ${u?"border-gray-200":"border-primary-500 bg-primary-50"}`,children:[e.jsx("input",{type:"radio",checked:!u,onChange:()=>T(!1),className:"mt-0.5 w-4 h-4 text-primary-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:"Single CA Score"}),e.jsx("div",{className:"text-xs text-gray-600 mt-0.5",children:"One combined CA score (simpler)"})]})]}),e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-colors hover:bg-gray-50 ${u?"border-primary-500 bg-primary-50":"border-gray-200"}`,children:[e.jsx("input",{type:"radio",checked:u,onChange:()=>T(!0),className:"mt-0.5 w-4 h-4 text-primary-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:"Multiple CA Components"}),e.jsx("div",{className:"text-xs text-gray-600 mt-0.5",children:"Break CA into parts (CA1, CA2, etc.)"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u?e.jsxs("div",{className:"bg-primary-50 rounded-lg border border-primary-200 p-5",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"CA Components"}),e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Define CA components (Total + Exam = 100)"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",value:p.name,onChange:s=>F({...p,name:s.target.value}),placeholder:"Name",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500"}),e.jsx("input",{type:"number",value:p.max_marks,onChange:s=>F({...p,max_marks:s.target.value}),placeholder:"Marks",min:"0",step:"0.5",className:"w-20 px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500"}),e.jsx("button",{onClick:ie,className:"px-3 py-2 text-sm bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Add"})]}),m.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:m.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-primary-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:s.name}),e.jsx("span",{className:"px-2 py-0.5 bg-primary-100 text-primary-700 rounded text-xs font-medium",children:s.max_marks})]}),e.jsx("button",{onClick:()=>le(r),className:"text-red-600 hover:text-red-700",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},r))}),e.jsx("div",{className:"mt-3 p-3 bg-primary-100 rounded border border-primary-300",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Total CA:"}),e.jsx("span",{className:"text-xl font-bold text-primary-700",children:m.reduce((s,r)=>s+parseFloat(r.max_marks||0),0)})]})})]}):e.jsx("div",{className:"text-center py-6 text-gray-500 bg-white rounded border border-dashed border-gray-300",children:e.jsx("p",{className:"text-sm",children:"No components yet"})})]}):e.jsxs("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-5",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"CA Marks"}),e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Single CA score (CA + Exam must = 100)"}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-blue-300",children:[e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Continuous Assessment"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:n.ca_max_marks,onChange:s=>V("ca_max_marks",s.target.value),min:"0",max:"100",className:"w-20 px-3 py-2 text-2xl font-bold text-center border-2 border-blue-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),e.jsx("span",{className:"text-lg font-medium text-gray-600",children:"marks"})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg border border-green-200 p-5",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Exam Marks"}),e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"End of term exam (CA + Exam must = 100)"}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-green-300",children:[e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"End of Term Exam"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:n.exam_max_marks,onChange:s=>V("exam_max_marks",s.target.value),min:"0",max:"100",className:"w-20 px-3 py-2 text-2xl font-bold text-center border-2 border-green-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),e.jsx("span",{className:"text-lg font-medium text-gray-600",children:"marks"})]})]})]})]}),e.jsxs("div",{className:`p-5 rounded-lg border-2 mb-6 ${u?m.reduce((s,r)=>s+parseFloat(r.max_marks||0),0)+n.exam_max_marks===100?"bg-green-50 border-green-500":"bg-red-50 border-red-500":n.ca_max_marks+n.exam_max_marks===100?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-900 text-lg",children:"Total Marks"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-3xl font-bold ${u?m.reduce((s,r)=>s+parseFloat(r.max_marks||0),0)+n.exam_max_marks===100?"text-green-600":"text-red-600":n.ca_max_marks+n.exam_max_marks===100?"text-green-600":"text-red-600"}`,children:u?m.reduce((s,r)=>s+parseFloat(r.max_marks||0),0)+n.exam_max_marks:n.ca_max_marks+n.exam_max_marks}),e.jsx("span",{className:"text-2xl text-gray-600",children:"/ 100"})]})]}),(u?m.reduce((s,r)=>s+parseFloat(r.max_marks||0),0)+n.exam_max_marks!==100:n.ca_max_marks+n.exam_max_marks!==100)&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:"âš  Total must equal 100 marks"})]}),e.jsx("button",{onClick:oe,disabled:d,className:"w-full px-6 py-3 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors disabled:bg-gray-400 font-medium",children:d?"Saving...":"Save Assessment Configuration"})]}),x==="calendar"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Academic Calendar"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Set your academic year dates"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Academic Year Start"}),e.jsx("input",{type:"date",value:y.start,onChange:s=>M(r=>({...r,start:s.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Academic Year End"}),e.jsx("input",{type:"date",value:y.end,onChange:s=>M(r=>({...r,end:s.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500"})]})]}),e.jsx("button",{onClick:ce,disabled:d,className:"mt-6 px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors disabled:bg-gray-400",children:d?"Saving...":"Save Academic Year"}),e.jsxs("div",{className:"mt-12 pt-12 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Session & Term"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Set the current academic session and term. This will be used as the default throughout the system. Update this when the session or term changes."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Current Session ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:v,onChange:s=>D(s.target.value),placeholder:"e.g., 2024/2025",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: YYYY/YYYY (e.g., 2024/2025)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Current Term ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:C,onChange:s=>O(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"First Term",children:"First Term"}),e.jsx("option",{value:"Second Term",children:"Second Term"}),e.jsx("option",{value:"Third Term",children:"Third Term"})]})]})]}),e.jsx("button",{onClick:X,disabled:q,className:"mt-6 px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors disabled:bg-gray-400",children:q?"Saving...":"Save Session & Term"}),v&&C&&e.jsx("div",{className:"mt-4 p-4 bg-primary-50 border border-primary-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-primary-900",children:[e.jsx("strong",{children:"Current:"})," ",v," - ",C]})})]})]}),x==="report"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Report Card Customization"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Customize how report cards are displayed"}),e.jsxs("div",{className:"space-y-6 max-w-2xl",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Show Logo on Report"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Display school logo on printed reports"})]}),e.jsx("button",{onClick:()=>j(s=>({...s,show_logo_on_report:!s.show_logo_on_report})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${h.show_logo_on_report?"bg-primary-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${h.show_logo_on_report?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Show Motto on Report"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Display school motto on printed reports"})]}),e.jsx("button",{onClick:()=>j(s=>({...s,show_motto_on_report:!s.show_motto_on_report})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${h.show_motto_on_report?"bg-primary-600":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${h.show_motto_on_report?"translate-x-6":"translate-x-1"}`})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Header Text"}),e.jsx("textarea",{value:h.header_text,onChange:s=>j(r=>({...r,header_text:s.target.value})),rows:2,placeholder:"Optional text to appear at the top of reports",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Footer Text"}),e.jsx("textarea",{value:h.footer_text,onChange:s=>j(r=>({...r,footer_text:s.target.value})),rows:2,placeholder:"Optional text to appear at the bottom of reports",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500"})]}),e.jsx("button",{onClick:me,disabled:d,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors disabled:bg-gray-400",children:d?"Saving...":"Save Report Settings"})]})]})]})]})]})}export{je as default};
