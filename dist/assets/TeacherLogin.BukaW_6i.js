import{u as h,r as o,j as e,l as y,L as b}from"./index.UZcXu8dh.js";import{N as f}from"./api.CIjYu6Aj.js";import{E as j}from"./eye-off.BPF_QrU9.js";import{E as w}from"./eye.DHnN3T_-.js";const L=({onLogin:n})=>{const u=h(),[r,g]=o.useState({email:"",password:""}),[i,a]=o.useState(""),[c,d]=o.useState(!1),[l,x]=o.useState(!1),m=t=>{g({...r,[t.target.name]:t.target.value}),a("")},p=async t=>{t.preventDefault(),a(""),d(!0);try{const s=await f({email:r.email,password:r.password});s.success?(localStorage.setItem("userType","teacher"),localStorage.setItem("teacherData",JSON.stringify(s.user)),n&&n(s.user),u("/teacher/dashboard")):a(s.message||"Login failed. Please try again.")}catch(s){a("An error occurred. Please try again."),console.error("Login error:",s)}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:y,alt:"SchoolHub Logo",className:"w-20 h-20 sm:w-24 sm:h-24 object-contain"})}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Teacher Login"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Sign in to access your classes and mark attendance"})]}),e.jsxs("form",{className:"space-y-6 bg-white p-6 sm:p-8 rounded-lg border border-gray-200",onSubmit:p,children:[i&&e.jsx("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:i})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email",value:r.email,onChange:m})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"current-password",required:!0,className:"w-full px-4 py-3 pr-12 bg-gray-50 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your password",value:r.password,onChange:m}),e.jsx("button",{type:"button",onClick:()=>x(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:l?e.jsx(j,{className:"w-5 h-5"}):e.jsx(w,{className:"w-5 h-5"})})]})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors font-semibold disabled:bg-gray-400 disabled:cursor-not-allowed",children:c?"Signing in...":"Sign in"}),e.jsx("div",{className:"text-center",children:e.jsx(b,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-700",children:"School Login"})})]})]})})};export{L as default};
