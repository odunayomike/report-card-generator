import{r as o,u as v,A as d,j as e,N as h,O as u}from"./index.UZcXu8dh.js";import{S as N}from"./SubscriptionBanner.B5oIrVbp.js";import"./credit-card.C57WBUBh.js";function w({student:s,onLogout:x}){var c;const[n,m]=o.useState(!1),[a,i]=o.useState(!1),[t,g]=o.useState(null),p=v();o.useEffect(()=>{j()},[]);const j=async()=>{try{const l=await(await fetch(`${d}/school/get-profile`,{credentials:"include"})).json();l.success&&l.data&&g(l.data.logo)}catch(r){console.error("Error fetching school profile:",r)}},f=async()=>{try{await fetch(`${d}/auth/logout`,{method:"POST",credentials:"include"})}catch(r){console.error("Logout error:",r)}localStorage.removeItem("userType"),localStorage.removeItem("studentData"),x(),p("/student/login")};return e.jsxs("div",{className:"min-h-screen bg-gray-50","data-portal":"student",children:[e.jsx(N,{school:s==null?void 0:s.subscription}),e.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>i(!a),className:"lg:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100",children:a?e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),t?e.jsx("img",{src:t,alt:"School Logo",className:"w-12 h-12 object-contain rounded-lg"}):e.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Student Portal"}),e.jsx("p",{className:"text-xs text-gray-500",children:s==null?void 0:s.name})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>m(!n),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 font-semibold text-sm",children:((c=s==null?void 0:s.name)==null?void 0:c.charAt(0))||"S"})}),e.jsx("span",{className:"hidden md:inline",children:s==null?void 0:s.name}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg border border-gray-200 z-50",children:e.jsx("div",{className:"py-1",children:e.jsxs("div",{className:"px-4 py-2 border-b border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Admission No: ",s==null?void 0:s.admission_no]}),e.jsx("p",{className:"text-xs text-gray-500",children:s==null?void 0:s.class})]})})})]}),e.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})})}),e.jsxs("div",{className:"flex",children:[a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>i(!1)}),e.jsx("aside",{className:`
          w-64 bg-white border-r border-gray-200 h-screen fixed top-16 left-0 overflow-y-auto z-50
          transition-transform duration-300 ease-in-out
          lg:translate-x-0
          ${a?"translate-x-0":"-translate-x-full"}
        `,children:e.jsx("nav",{className:"p-4 pt-8",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsxs(h,{to:"/student/dashboard",end:!0,className:({isActive:r})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${r?"bg-green-50 text-green-700":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),e.jsx("span",{className:"font-medium",children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs(h,{to:"/student/exams",className:({isActive:r})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${r?"bg-green-50 text-green-700":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"font-medium",children:"My Exams"})]})})]})})}),e.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 lg:ml-64",children:e.jsx(u,{})})]})]})}export{w as default};
