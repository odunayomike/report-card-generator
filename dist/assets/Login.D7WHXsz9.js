import{r as t,u as b,j as e,l as f,L as u,A as j}from"./index.UZcXu8dh.js";import{E as N}from"./eye-off.BPF_QrU9.js";import{E as w}from"./eye.DHnN3T_-.js";function L({onLogin:x}){const[s,g]=t.useState({email:"",password:""}),[l,i]=t.useState(!1),[c,a]=t.useState(""),[o,h]=t.useState(!1),p=b(),d=r=>{g({...s,[r.target.name]:r.target.value}),a("")},y=async r=>{r.preventDefault(),i(!0),a("");try{const n=await(await fetch(`${j}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)})).json();n.success?(x(n.school),p("/dashboard")):a(n.message)}catch(m){console.error("Login error:",m),a("Failed to login. Please try again.")}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:f,alt:"SchoolHub Logo",className:"w-24 h-24 object-contain"})}),e.jsx("h1",{className:"text-4xl font-bold mb-2 text-primary-500",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to your school account"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[c&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:c}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:d,className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"school@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",name:"password",value:s.password,onChange:d,className:"w-full px-4 py-3 pr-12 bg-gray-50 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),e.jsx("button",{type:"button",onClick:()=>h(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:o?e.jsx(N,{className:"w-5 h-5"}):e.jsx(w,{className:"w-5 h-5"})})]})]}),e.jsx("button",{type:"submit",disabled:l,className:"w-full px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors font-semibold disabled:bg-gray-500 disabled:cursor-not-allowed",children:l?"Signing in...":"Sign In"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsx(u,{to:"/register",className:"font-semibold text-primary-500 hover:text-primary-600",children:"Sign up"})]})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(u,{to:"/",className:"text-gray-500 hover:text-gray-700 text-sm",children:"‚Üê Back to home"})})]})]})})}export{L as default};
