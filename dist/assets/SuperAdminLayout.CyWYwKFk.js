import{c as d,u as f,v as j,w as N,r as l,j as e,X as b,M as v,l as c,b as w,B as S,x as A,y as k,U as L,L as C,O as D}from"./index.UZcXu8dh.js";import{b as I}from"./api.CIjYu6Aj.js";import{M}from"./mail.B-H7KAXZ.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],T=d("layout-dashboard",O);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],z=d("log-out",_);function $(){const t=f(),m=j(),{toast:x}=N(),[a,h]=l.useState(null),[o,p]=l.useState(!1),[r,i]=l.useState(!1);l.useEffect(()=>{const s=localStorage.getItem("userType"),n=localStorage.getItem("superAdminData");s==="super_admin"&&n?h(JSON.parse(n)):t("/super-admin/login")},[t]);const u=async()=>{try{await I(),localStorage.removeItem("userType"),localStorage.removeItem("superAdminData"),x.success("Logged out successfully"),t("/super-admin/login")}catch(s){console.error("Logout error:",s),localStorage.removeItem("userType"),localStorage.removeItem("superAdminData"),t("/super-admin/login")}},g=[{name:"Dashboard",path:"/super-admin/dashboard",icon:T},{name:"Schools",path:"/super-admin/schools",icon:S},{name:"All Students",path:"/super-admin/students",icon:A},{name:"Contact Messages",path:"/super-admin/contact-messages",icon:M},{name:"Analytics",path:"/super-admin/analytics",icon:k},{name:"Activity Log",path:"/super-admin/activity-log",icon:L}],y=s=>m.pathname===s;return a?e.jsxs("div",{className:"min-h-screen bg-gray-50","data-portal":"admin",children:[e.jsx("nav",{className:"bg-gradient-to-r from-primary-900 to-primary-700 text-white shadow-lg sticky top-0 z-50",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>i(!r),className:"lg:hidden mr-4 p-2 rounded-md hover:bg-primary-800",children:r?e.jsx(b,{className:"h-6 w-6"}):e.jsx(v,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:c,alt:"SchoolHub",className:"h-10 w-10"}),e.jsx("span",{className:"ml-3 text-xl font-bold",children:"Super Admin Portal"})]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>p(!o),className:"flex items-center space-x-3 hover:bg-primary-800 rounded-lg px-3 py-2 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center font-bold",children:a.name?a.name.charAt(0).toUpperCase():"SA"}),e.jsxs("div",{className:"hidden md:block text-left",children:[e.jsx("p",{className:"text-sm font-medium",children:a.name}),e.jsx("p",{className:"text-xs text-primary-200",children:"System Administrator"})]}),e.jsx(w,{className:"h-4 w-4"})]}),o&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 z-50",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500",children:a.email})]}),e.jsxs("button",{onClick:u,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})]})})}),e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:`${r?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed inset-y-0 left-0 z-40 w-64 bg-white border-r border-gray-200 transition-transform duration-300 ease-in-out`,children:e.jsxs("div",{className:"h-full overflow-y-auto pt-16 lg:pt-16",children:[e.jsx("div",{className:"px-4 py-6",children:e.jsx("nav",{className:"space-y-1",children:g.map(s=>{const n=s.icon;return e.jsxs(C,{to:s.path,onClick:()=>i(!1),className:`flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ${y(s.path)?"bg-primary-50 text-primary-700 border-l-4 border-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(n,{className:"h-5 w-5 mr-3"}),s.name]},s.path)})})}),e.jsx("div",{className:"px-4 py-4 mt-auto border-t border-gray-200",children:e.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center p-1.5",children:e.jsx("img",{src:c,alt:"SchoolHub",className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500",children:"Super Admin"})]})]})})})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>i(!1)}),e.jsx("main",{className:"flex-1 overflow-x-hidden lg:ml-64",children:e.jsx("div",{className:"p-8",children:e.jsx(D,{context:{superAdmin:a}})})})]})]}):null}export{$ as default};
