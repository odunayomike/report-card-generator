import{r as a,u as g,j as e,l as b,A as h}from"./index.UZcXu8dh.js";function p({onLogin:o}){const[n,m]=a.useState(""),[i,l]=a.useState(!1),[d,t]=a.useState(""),u=g(),x=async r=>{r.preventDefault(),t(""),l(!0);try{const s=await(await fetch(`${h}/auth/student-login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({admission_no:n})})).json();s.success?(localStorage.setItem("userType","student"),localStorage.setItem("studentData",JSON.stringify(s.student)),o&&o(s.student),u("/student/dashboard")):(console.error("Login failed:",s.message),t(s.message||"Invalid admission number"))}catch(c){console.error("Login error:",c),t("Failed to login. Please try again.")}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:b,alt:"SchoolHub Logo",className:"w-20 h-20 sm:w-24 sm:h-24 object-contain"})}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Student Portal"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Enter your admission number to access your exams"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 sm:p-8",children:[d&&e.jsx("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:d}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"admissionNo",className:"block text-sm font-medium text-gray-700 mb-2",children:"Admission Number"}),e.jsx("input",{type:"text",id:"admissionNo",value:n,onChange:r=>m(r.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your admission number",required:!0})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors font-semibold disabled:bg-gray-400 disabled:cursor-not-allowed",children:i?"Logging in...":"Access Portal"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("a",{href:"/",className:"text-sm text-primary-600 hover:text-primary-700",children:"‚Üê Back to Home"})})]})]})})}export{p as default};
