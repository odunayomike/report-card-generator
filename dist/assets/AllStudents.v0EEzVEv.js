import{c as D,r,j as e,X as T,h as U,F as z,C as V,A as I,u as O,v as W}from"./index.UZcXu8dh.js";import{g as H}from"./api.CIjYu6Aj.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],G=D("arrow-right",q);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],J=D("download",Y);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],K=D("upload",X);function Q({isOpen:b,onClose:E,onImportComplete:L}){const[c,i]=r.useState(1),[h,l]=r.useState(null),[S,w]=r.useState(!1),[_,F]=r.useState(!1),[g,y]=r.useState([]),[f,C]=r.useState({}),[P,R]=r.useState([]),[k,j]=r.useState(0),[M,$]=r.useState(""),[o,m]=r.useState(null),u=a=>{const t=a.target.files[0];if(t){if(!t.name.endsWith(".csv")){alert("Please select a CSV file");return}l(t)}},A=async()=>{if(!h)return;w(!0);const a=new FormData;a.append("file",h),a.append("phase","preview");try{const n=await(await fetch(`${I}/students/import`,{method:"POST",credentials:"include",body:a})).json();n.success?(y(n.headers),C(n.mappings),R(n.previewData),j(n.totalRows),$(n.tempFile),i(2)):alert("Error: "+(n.message||"Upload failed"))}catch(t){console.error("Upload error:",t),alert("Failed to upload file. Please try again.")}finally{w(!1)}},s=(a,t)=>{C(n=>({...n,[a]:t}))},d=async()=>{F(!0);const a=new FormData;a.append("phase","import"),a.append("tempFile",M),a.append("mappings",JSON.stringify(f));try{const n=await(await fetch(`${I}/students/import`,{method:"POST",credentials:"include",body:a})).json();n.success?(m(n),i(3)):alert("Error: "+(n.message||"Import failed"))}catch(t){console.error("Import error:",t),alert("Failed to import students. Please try again.")}finally{F(!1)}},x=()=>{i(1),l(null),y([]),C({}),R([]),m(null),E()},v=()=>{L&&L(),x()},p=()=>{window.location.href=`${I}/students/download-template`},B=[{value:null,label:"-- Skip Column --"},{value:"admission_no",label:"Admission No"},{value:"name",label:"Name (Required)"},{value:"gender",label:"Gender"},{value:"class",label:"Class"},{value:"session",label:"Session"},{value:"term",label:"Term"},{value:"guardian_email",label:"Guardian Email"},{value:"height",label:"Height"},{value:"weight",label:"Weight"},{value:"club_society",label:"Club/Society"},{value:"fav_col",label:"Favourite Color"}];return b?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Import Students"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[c===1&&"Upload your CSV file",c===2&&"Review and map columns",c===3&&"Import complete"]})]}),e.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600",children:e.jsx(T,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[c===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(U,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Before you import:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Prepare your data in CSV format"}),e.jsx("li",{children:"Our system will auto-detect your column names"}),e.jsx("li",{children:"You can review and adjust mappings before importing"}),e.jsx("li",{children:"Duplicate admission numbers will be skipped"})]})]})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:p,className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 text-sm font-medium text-gray-700",children:[e.jsx(J,{className:"w-4 h-4"}),"Download Sample Template"]})}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(K,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("span",{className:"text-sm font-medium text-primary-600 hover:text-primary-700",children:"Choose a CSV file"}),e.jsx("input",{type:"file",accept:".csv",onChange:u,className:"hidden"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"or drag and drop"}),h&&e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-sm text-gray-700",children:[e.jsx(z,{className:"w-4 h-4"}),h.name]})]})})]}),c===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(V,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900",children:"File uploaded successfully!"}),e.jsxs("p",{className:"text-sm text-green-800 mt-1",children:["Found ",k," student record",k!==1?"s":"",". Review the column mappings below."]})]})]})}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"CSV Column"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Maps To"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Preview"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((a,t)=>{var n;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:a}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("select",{value:f[t]||"",onChange:N=>s(t,N.target.value||null),className:"text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary-500",children:B.map(N=>e.jsx("option",{value:N.value||"",children:N.label},N.value||"skip"))})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:((n=P[0])==null?void 0:n[t])||"-"})]},t)})})]})})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Preview (First 5 rows):"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-xs",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b",children:g.map((a,t)=>e.jsx("th",{className:"px-2 py-1 text-left font-medium text-gray-600",children:a},t))})}),e.jsx("tbody",{children:P.map((a,t)=>e.jsx("tr",{className:"border-b",children:a.map((n,N)=>e.jsx("td",{className:"px-2 py-1 text-gray-700",children:n},N))},t))})]})})]})]}),c===3&&o&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`border rounded-lg p-6 ${o.imported>0?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(V,{className:`w-8 h-8 ${o.imported>0?"text-green-600":"text-yellow-600"}`}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Import Complete!"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Your student data has been processed"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Successfully Imported"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:o.imported})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Skipped"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:o.skipped})]})]})]}),o.errors&&o.errors.length>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"Errors:"}),e.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[o.errors.map((a,t)=>e.jsxs("li",{children:["â€¢ ",a]},t)),o.totalErrors>o.errors.length&&e.jsxs("li",{className:"text-red-600 font-medium",children:["... and ",o.totalErrors-o.errors.length," more errors"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-700 hover:text-gray-900 font-medium",children:c===3?"Close":"Cancel"}),e.jsxs("div",{className:"flex items-center gap-3",children:[c===1&&e.jsx("button",{onClick:A,disabled:!h||S,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:S?"Uploading...":e.jsxs(e.Fragment,{children:["Next",e.jsx(G,{className:"w-4 h-4"})]})}),c===2&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>i(1),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 font-medium",children:"Back"}),e.jsx("button",{onClick:d,disabled:_,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:_?"Importing...":`Import ${k} Student${k!==1?"s":""}`})]}),c===3&&e.jsx("button",{onClick:v,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Done"})]})]})]})}):null}function se(){const[b,E]=r.useState([]),[L,c]=r.useState(!0),[i,h]=r.useState({class:"",search:""}),[l,S]=r.useState(1),[w]=r.useState(10),[_,F]=r.useState(!1),g=O(),y=W(),f=y.pathname.startsWith("/teacher");r.useEffect(()=>{C()},[]),r.useEffect(()=>{var s;(s=y.state)!=null&&s.filterClass&&h(d=>({...d,class:y.state.filterClass}))},[y.state]);const C=async()=>{try{c(!0);const s=await H();s.success?E(s.data):console.error("Failed to load students:",s.message)}catch(s){console.error("Error fetching students:",s)}finally{c(!1)}},P=s=>{g(`${f?"/teacher":"/dashboard"}/students/${s}`)},R=()=>{window.location.href=`${I}/students/export`},k=()=>{C()},j=b.filter(s=>{const d=!i.search||s.name.toLowerCase().includes(i.search.toLowerCase())||s.admission_no.toLowerCase().includes(i.search.toLowerCase()),x=!i.class||s.current_class===i.class;return d&&x});r.useEffect(()=>{S(1)},[i]);const M=l*w,$=M-w,o=j.slice($,M),m=Math.ceil(j.length/w),u=s=>S(s),A=()=>{if(m<=1)return null;const s=[],d=5;let x=Math.max(1,l-Math.floor(d/2)),v=Math.min(m,x+d-1);v-x<d-1&&(x=Math.max(1,v-d+1));for(let p=x;p<=v;p++)s.push(p);return e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 rounded-b-lg",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>u(l-1),disabled:l===1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${l===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),e.jsx("button",{onClick:()=>u(l+1),disabled:l===m,className:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${l===m?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:$+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(M,j.length)})," of"," ",e.jsx("span",{className:"font-medium",children:j.length})," students"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>u(l-1),disabled:l===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium ${l===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-500 hover:bg-gray-50"}`,children:e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),x>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>u(1),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:"1"}),x>2&&e.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."})]}),s.map(p=>e.jsx("button",{onClick:()=>u(p),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${l===p?"z-10 bg-green-50 border-green-500 text-green-600":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:p},p)),v<m&&e.jsxs(e.Fragment,{children:[v<m-1&&e.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."}),e.jsx("button",{onClick:()=>u(m),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:m})]}),e.jsx("button",{onClick:()=>u(l+1),disabled:l===m,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm font-medium ${l===m?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-500 hover:bg-gray-50"}`,children:e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})})]})]})};return e.jsxs("div",{children:[e.jsx(Q,{isOpen:_,onClose:()=>F(!1),onImportComplete:k}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"All Students"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:R,disabled:b.length===0,className:"px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-md hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export CSV"]}),e.jsxs("button",{onClick:()=>F(!0),className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Import CSV"]}),e.jsxs("button",{onClick:()=>g(f?"/teacher/add-student":"/dashboard/add-student"),className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Student"]}),e.jsxs("button",{onClick:()=>g(f?"/teacher/create-report":"/dashboard/create"),className:"px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-md hover:bg-primary-700 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Report"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Search Student"}),e.jsx("input",{type:"text",placeholder:"Name or Admission No...",value:i.search,onChange:s=>h(d=>({...d,search:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Filter by Current Class"}),e.jsxs("select",{value:i.class,onChange:s=>h(d=>({...d,class:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",children:[e.jsx("option",{value:"",children:"All Classes"}),[...new Set(b.map(s=>s.current_class))].sort().map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),(i.search||i.class)&&e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",j.length," of ",b.length," students"]}),e.jsx("button",{onClick:()=>h({class:"",search:""}),className:"text-sm text-primary-600 hover:text-primary-900 font-medium",children:"Clear Filters"})]})]}),L?e.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"})}):b.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No students yet"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Get started by creating your first report card"}),e.jsx("button",{onClick:()=>g("/dashboard/create"),className:"px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-md hover:bg-primary-700",children:"Create Report Card"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Class"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Reports"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-primary-600 font-semibold text-sm",children:s.name.charAt(0)})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.admission_no})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:s.current_class})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:[s.total_reports," ",s.total_reports===1?"Report":"Reports"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(s.latest_report_date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>g(`${f?"/teacher":"/dashboard"}/student-details/${s.admission_no}`),className:"text-blue-600 hover:text-blue-900 font-medium",children:"View Details"}),e.jsx("button",{onClick:()=>P(s.admission_no),className:"text-primary-600 hover:text-primary-900",children:"Reports"})]})})]},s.admission_no))})]})}),A()]})]})}export{se as default};
